<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PEERNet: Benchmarking Networked Robotics on Wifi, 5G, and Beyond</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,600">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
  <link href="https://utaustin-swarmlab.github.io/css/zoom.css" rel="stylesheet">
  <script src="https://utaustin-swarmlab.github.io/js/zoom.js"></script>
  <script src="https://utaustin-swarmlab.github.io/js/transition.js"></script>

  <link rel="stylesheet" href="/style.css">
  <!-- favicon -->
  <!-- <link rel="shortcut icon" href="https://utaustin-swarmlab.github.io/favicon.ico"> -->
  <link rel="shortcut icon" href="https://utaustin-swarmlab.github.io/images/logo/swarm-lab-landing-image.png">
  <!-- <link rel="apple-touch-icon-precomposed" href="https://utaustin-swarmlab.github.io/images/logo/logo_square.jpg">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://utaustin-swarmlab.github.io/images/logo/logo-icon-72.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://utaustin-swarmlab.github.io/images/logo/logo-icon-114.png">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://utaustin-swarmlab.github.io/images/logo/logo-icon-144.png"> -->

  <!-- Add favourite fonts here -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&family=Source+Serif+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap"
    rel="stylesheet">
  <!-- open graph -->

  
  
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://utaustin-swarmlab.github.io/2024/09/17/PeerNet.html">
  <meta property="og:title" content="PEERNet: Benchmarking Networked Robotics on Wifi, 5G, and Beyond">
  <meta property="og:site_name" content="Swarm Lab at UT Austin">
  <meta property="og:description" content="IROS 2024 paper"/>
  <meta property="og:image" content="https://utaustin-swarmlab.github.io/images/logo/logo_square.jpg">

</head>

<script>
  /**
  * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
  */
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function () { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');

    s.src = '//kordinglab.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
    powered by Disqus.</a></noscript>

<body id="page-top" style="padding-top: 7em;">

  <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class='navbar-brand page-scroll' href='/'>
              <span style="font-family: 'Source Sans Pro', sans-serif; font-weight:600; color: #FFFFFF;">Swarm Lab</span>
              </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <ul class="nav navbar-nav navbar-right">
                      
                      <li><a class='name' href="/" style="font-family: 'Source Sans Pro', sans-serif; color: #FFFFFF; font-weight: 500;">HOME</a></li>
                      
                      <li><a class='name' href="/about" style="font-family: 'Source Sans Pro', sans-serif; color: #FFFFFF; font-weight: 500;">ABOUT</a></li>
                      
                      <li><a class='name' href="/publications" style="font-family: 'Source Sans Pro', sans-serif; color: #FFFFFF; font-weight: 500;">PUBLICATIONS</a></li>
                      
                      <li><a class='name' href="/people" style="font-family: 'Source Sans Pro', sans-serif; color: #FFFFFF; font-weight: 500;">PEOPLE</a></li>
                      
                      <li><a class='name' href="/lab_pictures" style="font-family: 'Source Sans Pro', sans-serif; color: #FFFFFF; font-weight: 500;">LAB PICTURES</a></li>
                      
                      <li><a class='name' href="/blog" style="font-family: 'Source Sans Pro', sans-serif; color: #FFFFFF; font-weight: 500;">BLOG</a></li>
                      
                    </ul>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
</nav>

  <div class="container content post">
  <h3><strong>PEERNet: Benchmarking Networked Robotics on Wifi, 5G, and Beyond</strong><br/>
  <small>posted on September 17, 2024</small></h3>
  <hr>
  <p><em>By Aditya N.</em></p>

<h1 id="peernet-benchmarking-networked-robotics-on-wifi-5g-and-beyond">PEERNet: Benchmarking Networked Robotics on Wifi, 5G, and Beyond</h1>

<p>Proceedings of the International Conference on Intelligent Robots and Systems (IROS)</p>

<p><strong>TLDR:</strong> This post introduces <em>PEERNet</em>, a Python package for real-time benchmarking of networked robotic systems. It provides concise and modular methods for performance analysis of the entire system stack.</p>

<p><strong>link to paper:</strong> <a href="https://arxiv.org/abs/2409.06078">PEERNet: Benchmarking Networked Robotics on Wifi, 5G, and Beyond</a></p>

<div style="text-align:center">
    <img src="https://hackmd.io/_uploads/ryxuxVStA.png" alt="figure-1" width="650" />
</div>

<p><strong>PEERNet is an end-to-end profiling tool for networked robotics. It excels in ease of deployment across various platforms and offers extensive benchmarking capabilities.</strong></p>

<h2 id="why-benchmark-networked-robotics">Why benchmark networked robotics?</h2>
<p>Consider a mobile robot running a Machine Learning (ML) pipeline for perception, localization, and path planning. Here and in many other practical scenarios, offloading computationally expensive ML tasks to a cloud server over public networks is a viable optimization.</p>

<p>Introducing offloaded computation brings up several system-design questions which require hard statistics and real data to answer:</p>

<ul>
  <li><em>Which ML model maximizes decision accuracy while minimizing end-to-end latency?</em></li>
  <li><em>How much better is the end-to-end latency when using a 5G network as opposed to a 4G LTE network?</em></li>
  <li><em>How does data compression affect end-to-end latency in offloaded inference? Is the overhead of compression worth the faster networking latency? Does that answer change when using a 5G network as opposed to LTE or WiFi?</em></li>
</ul>

<p>More generally, real-time benchmarking is required for:</p>

<p>1.<strong>Deployment in the real world:</strong> Before a robotic system can be deployed, decisions need to be made on hardware, ML models, networking protocols, etc.–these decisions must be informed by real-world statistics.</p>

<p>2.<strong>Debugging exising systems:</strong> Finding and removing bottlenecks in existing robotic systems requires hard numbers. ML model latency, network delay, or even hardware limitations could all be a system’s bottleneck.</p>

<p>3.<strong>Optimizing networked robotics:</strong> Many novel techniques for optimizing data sharing, offloading policies, and distributed ML are in active development. Assessing the performance of new algorithms on real hardware is essential before optimizations can be applied.</p>

<h2 id="what-makes-benchmarking-non-trivial">What makes benchmarking non-trivial?</h2>
<p>Benchmarking networked robotics is fundamentally more challenging than simply timing ML models and testing sensors. The incorporation of networks into robotic systems significantly complicates the benchmarking problem by introducing:</p>

<p>1.<strong>Stochastic delay</strong>: Network delays are highly stochastic and system dependent. Delays are hard to predict and often change significantly from one setup to another.</p>

<p>2.<strong>Network Timing and Asymmetric Delay</strong>: Profiling networking operations by itself is difficult due to imperfect clock synchronization. Round-trip times, while commonly used, are of little use in networked robotic systems, where devices rarely upload and download similar amounts of data. For example, our mobile robot from earlier may upload gigabytes of images and lidar scans while downloading only bytes of labels. Hence, round-trip delay fails to provide any meaningful insight into this system.</p>

<h2 id="introducing-peernet">Introducing PEERNet</h2>
<p>We present PEERNet, the <strong>P</strong>rofiler for <strong>E</strong>nd-to-<strong>E</strong>nd <strong>R</strong>eal-time <strong>Net</strong>worked Robotics. PEERNet is a highly modular and extensible package for profiling networked robotic systems, complete with one-way network delay estimation. PEERNet interfaces with industry standard hardware and software such as Nvidia embedded GPUs, Robot Operating System (ROS), and Zero MQ (ZMQ). PEERNet exposes a CLI for rapid benchmarking of offloaded inference systems, and we demonstrate PEERNet’s ease of use and versatility.</p>

<p>At a high level, PEERNet focuses on profiling networked robotics by looking at the life-cycle of data. When sensors sample data, serializable logging metadata is attached, and propagated through the system normally. This metadata includes all necessary information for tracking and profiling sampling time, ML inference latency, and one-way network delay.</p>

<h2 id="experiments">Experiments</h2>
<p>We illustrate and validate PEERNet by implementing and profiling three networked robotic systems. All of our experiments are conducted on physical hardware and live wireless networks, demonstrating that PEERNet is modular, robust, and capable of precisely profiling various systems.</p>

<h3 id="benchmarking-offloaded-inference">Benchmarking offloaded inference</h3>
<p>Our first experiment demonstrates how PEERNet can be used to profile and understand offloaded image classification, such as in our mobile robot example. By precisely quantifying latency costs across local and cloud hardware and for various model sizes, PEERNet allows for intelligent device/model selection.</p>

<div style="text-align:center">
    <img src="https://hackmd.io/_uploads/S1pz-4HK0.png" alt="efficientnet_model_sizes_paired" width="400" />
</div>

<p><strong>PEERNet precisely quantifies inference costs of diffent ML classifiers at the edge and in the cloud.</strong></p>

<h3 id="identifying-non-intuitive-behavior-in-vison-language-models">Identifying non-intuitive behavior in Vison Language Models</h3>
<p>In our second experiment, we use PEERNet to explore inference with Vision Language Models (VLMs) at the edge, an emerging task in robotic pipelines. We show that PEERNet is capable of identifying non-intuitive behaviors in VLM inference, such as a bimodal output token distribution.</p>

<div style="text-align:center">
    <img src="https://hackmd.io/_uploads/BJoQ-4BFC.png" alt="llava" width="600" />
</div>

<p><strong>PEERNet identifies that a Vision Language Model (VLM) returns a strongly bimodal distribution of caokens, speeds, and inference caimes.</strong></p>

<h3 id="optimizing-teleoperation-of-a-robot-arm">Optimizing teleoperation of a robot arm</h3>
<p>Our final experiment applies PEERNet to benchmark a full teleoperation pipeline. We explore all combinations of edge device, cloud compute, compression, and network on a teleoperated robot arm performing a pick-and-place task. We demonstrate that profiling with PEERNet solves the hardware selection problem, and is easily applicable to existing robotic pipelines.</p>

<div style="text-align:center">
    <img src="https://hackmd.io/_uploads/Hy9EbNBFC.png" alt="stacked-barplot" width="400" />
</div>

<h2 id="looking-to-try-peernet-out">Looking to try PEERNet out?</h2>
<p>Our code is open-source! You can find it at <a href="github.com/UTAustin-SwarmLab/PEERNet">our repo</a>.</p>

  <ul class="share-buttons">
  <a style="color:#3b5998;" href="https://www.facebook.com/sharer/sharer.php?u=https://utaustin-swarmlab.github.io/2024/09/17/PeerNet.html" title="Share on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a style="color:#0084b4;" href="https://twitter.com/intent/tweet?text=https://utaustin-swarmlab.github.io/2024/09/17/PeerNet.html" title="Share on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
</ul>

  <!-- <div id="disqus_thread"></div> -->
</div>


  <script id="dsq-count-scr" src="//kordinglab.disqus.com/count.js" async></script>
  <script src="http://code.jquery.com/jquery-2.2.1.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
    integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
    crossorigin="anonymous"></script>
  <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-34145995-1");
    pageTracker._trackPageview();
  </script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34145995-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-34145995-1');
  </script>

</body>

</html>
